:80 {
  root * /usr/share/caddy
  encode zstd gzip

  # Default: no-cache for HTML/app shell
  header /* Cache-Control "no-cache"

  # Long cache for built assets
  @assets path /assets/*
  header @assets Cache-Control "public, max-age=31536000, immutable"

  # SPA fallback
  try_files {path} /index.html

  file_server
}

